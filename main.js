(()=>{"use strict";const t=JSON.parse('{"MIR":["2"],"Visa":["4"],"Diners":["30"],"AmericanExpress":["34","37"],"JCB":["35"],"MasterCard":["51","52","53","54","55","222"],"Discover":["60","65"]}');const e=document.querySelector(".validate-card-widjet"),s=new class{constructor(t){this.container=t,this.Message=document.querySelector(".Message"),this.inputEl=document.querySelector(".input-card-number"),this.cards=[...document.querySelectorAll(".card-img")]}init(){this.inputEl.addEventListener("input",this.onInput.bind(this)),this.validateButton=this.container.querySelector(".validate-button"),this.validateButton.addEventListener("click",this.onSubmit.bind(this))}onSubmit(t){t.preventDefault(),this.cards.forEach(t=>t.classList.remove("card-img-filter")),this.Message.style.display="block";if(!/^[0-9]+$/.test(parseInt(this.inputEl.value,10)))return this.Message.textContent="Enter only number 0...9",void(this.inputEl.value="");if(!this.inputEl.value||this.inputEl.value.length<14)return this.Message.textContent="Very short number...",void(this.inputEl.value="");const e=function(t){let e=null;for(let s=0;s<t.length;s+=1){let i=parseInt(t[s],10);(t.length-s)%2==0&&(i*=2,i>9&&(i-=9)),e+=i}return e%10==0}(this.inputEl.value);this.Message.textContent=e?"is Valid":"is not Valid",this.inputEl.value=""}onInput(e){e.preventDefault();const{value:s}=this.inputEl;if(""!==s){this.cards.forEach(t=>t.classList.add("card-img-filter"));const e=function(e){const s=t;for(const[t,i]of Object.entries(s))for(const s of i)if(e.startsWith(s))return t.toLowerCase();return!1}(s);this.showPaymentSystem(e)}else this.cards.forEach(t=>t.classList.remove("card-img-filter"))}showPaymentSystem(t){const e=this.cards.find(e=>e.classList.contains(t));e&&e.classList.remove("card-img-filter")}}(e);s.init(),console.log("Let`s go!")})();